<html>
  <header>
    <title>Drawing</title>
    <style type="text/css">
      body {
        padding: 20px;
      }

      #canvas {
        width: 900px;
        height: 900px;
      }
    </style>
  </header>

  <body>
    <canvas id="canvas"></canvas>

    <script>
      const canvas = document.getElementById('canvas');
      const baseRatio = 9000 / canvas.offsetWidth;
      const targetRatio = 2;
      const pointRatio = baseRatio / targetRatio;
      canvas.width = targetRatio * canvas.offsetWidth;
      canvas.height = targetRatio * canvas.offsetHeight;
      const ctx = canvas.getContext('2d');

      function moveToFactory(callback) {
        
      }


      const currentPoint = [0, 0];
      function moveTo(x, y) {
        x = x || currentPoint[0];
        y = y || currentPoint[1];
        console.log('moveTo', x, y);
        ctx.moveTo(x / pointRatio, y / pointRatio);
      }
      function lineTo(x, y) {
        x = x || currentPoint[0];
        y = y || currentPoint[1];
        console.log('lineTo', x, y);
        ctx.lineTo(x / pointRatio, y / pointRatio);
      }
      function moveRight(distance) {
        currentPoint[0] += distance;
        moveTo();
      }
      function moveLeft(distance) {
        currentPoint[0] -= distance;
        moveTo();
      }
      function moveUp(distance) {
        currentPoint[1] -= distance;
        moveTo();
      }
      function moveDown(distance) {
        currentPoint[1] += distance;
        moveTo();
      }
      function lineRight(distance) {
        currentPoint[0] += distance;
        lineTo();
      }
      function lineLeft(distance) {
        currentPoint[0] -= distance;
        lineTo();
      }
      function lineUp(distance) {
        currentPoint[1] -= distance;
        lineTo();
      }
      function lineDown(distance) {
        currentPoint[1] += distance;
        lineTo();
      }

      ctx.beginPath();
      ctx.lineWidth = 1;
      ctx.strokeStyle = '#d2d2d2';
      for(let i = 0; i < 9000; i += 100) {
        moveTo(i, 0);
        lineTo(i, 9000);
        moveTo(0, i);
        lineTo(9000, i);
      }
      ctx.stroke();

      ctx.beginPath();
      ctx.strokeStyle = 'black';
      ctx.lineWidth = 4;
      moveRight(800, 'Init');
      moveDown(100, 'Init');
      moveRight(423, '厨房烟道西侧');
      lineRight(2167, '厨房东墙');
      lineDown(2280, '厨房南墙');
      lineLeft(963, '厨房西墙南侧');
      lineDown(230, '厨房与餐厅间墙厚');
      lineRight(1187, '餐厅东墙南侧');
      lineUp(2510, '门廊北墙');
      lineRight(100, '入户门北侧');
      moveRight(1070, '入户门宽度');
      lineRight(80, '入户门南侧');
      lineDown(2103, '门廊南墙');
      lineRight(2818, '客厅东墙');
      lineDown(500, '客厅东侧垛子宽度');
      lineRight(230, '客厅垛子厚度');
      lineUp(500, '客厅东侧垛子宽度');
      lineRight(946, '阳台东侧墙');
      lineDown(505 + 2331, '阳台南侧墙');
      lineLeft(490, '阳台垛子东侧');
      lineDown(689, '阳台垛子北侧');
      lineLeft(497, '阳台西墙');
      lineUp(705, '客厅西侧垛子宽度');
      lineLeft(230, '客厅垛子厚度');
      lineDown(705, '客厅西侧垛子宽度');
      lineLeft(3691, '客厅西墙');
      lineDown(150, '客厅与主卧墙厚');
      lineRight(988, '方庭东墙');
      lineDown(150, '主卧门框东侧');
      lineRight(150,'主卧门框东侧');
      lineUp(150, '主卧门框东侧');
      lineRight(3272, '主卧东墙');
      lineDown(3081, '主卧南墙');
      lineLeft(3272, '主卧西墙');
      lineUp(2172, '主卧北墙');
      lineLeft(150, '主卧门框西侧');
      lineDown(60, '主卧门框西侧');
      lineLeft(541, '方庭西墙南侧');
      lineDown(150, '方庭与卫生间间墙厚');
      lineRight(541, '卫生间东墙南侧');
      lineDown(1971, '卫生间南墙');
      lineLeft(1961, '卫生间西墙');
      lineUp(1972, '卫生间北墙');
      lineRight(656, '卫生间东墙北侧');
      lineUp(150, '方庭与卫生间间墙厚');
      lineLeft(646, '方庭西墙北侧');
      lineUp(60, '次卧门框西侧');
      lineLeft(150, '次卧门框西侧');
      lineDown(2158, '次卧南墙');
      lineLeft(2674, '次卧西墙');
      lineUp(3077, '次卧北墙');
      lineRight(2672, '次卧东墙');
      lineDown(60, '次卧门框东侧');
      lineRight(150, '次卧门框东侧');
      lineUp(210, '次卧门框东侧');
      lineLeft(2101, '餐厅西墙');
      lineUp(3100, '餐厅北墙');
      lineRight(842, '厨房西墙北侧');
      lineUp(230, '厨房与餐厅间墙厚');
      lineLeft(842, '厨房西墙北侧');
      lineUp(1772, '厨房北墙');
      lineRight(423, '厨房烟道西侧');
      lineUp(504, '厨房烟道南侧');
      ctx.stroke();
    </script>
  </body>
</html>